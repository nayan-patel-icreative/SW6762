.product-detail-configurator-option-input {
    + .product-detail-configurator-option-label {
        @include border-radius($zen-layout-button-radius * 1px);
        background-color: $zen-product-configurator-bg;
        color: $zen-product-configurator-color;
        border-color: $zen-product-configurator-border-color;
        box-shadow: inset 0 0 0 3px $zen-product-configurator-bg;
        position: relative;
        opacity: percent($zen-product-configurator-not-combinable-opacity);

        @if $zen-product-configurator-not-combinable-dashed-border == 1 {
            border-style: dashed;
        }

        &.is-display-color,
        &.is-display-media {
            transition: all .15s ease-in-out;
            overflow: hidden; // ... needed because of border-radius

            .product-detail-configurator & {
                height: 50px;
                min-width: 50px;
            }
        }

        &.is-display-text {
            @include transition($btn-transition);

            &::after {
                box-shadow: 0 0 0 0 $zen-product-configurator-hover-bg;
            }
        }

        &::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            @include transition($btn-transition);
            @include border-radius($zen-layout-button-radius * 1px);
            z-index: -1;
        }

        .product-detail-configurator-option-image {
            height: 90%;
        }
    }

    &.is-combinable + .product-detail-configurator-option-label {
        // ... hover / active / focus color is same as default state
        @if $zen-product-configurator-border-color == $zen-product-configurator-hover-bg {
            border: 1px solid rgba($zen-product-configurator-border-color, .5); // config
        } @else {
            border: 1px solid $zen-product-configurator-border-color;
        }
    }

    &:checked + .product-detail-configurator-option-label {
        border: 1px solid $zen-product-configurator-border-hover-color;

        &.is-display-text {
             background-color: $zen-product-configurator-hover-bg;
             color: $zen-product-configurator-hover-color;
        }
    }

    &.is-combinable + .product-detail-configurator-option-label,
    + .product-detail-configurator-option-label {
        &:hover,
        &:active,
        &:focus {
            border: 1px solid $zen-product-configurator-border-hover-color;

            &.is-display-color,
            &.is-display-media {
                transform: scale(1.05);
            }

            &.is-display-text {
                background-color: $zen-product-configurator-hover-bg;
                color: $zen-product-configurator-hover-color;

                &::after {
                    box-shadow: 0 0 0 .2rem rgba($zen-product-configurator-hover-bg, 1); // config
                }
            }
        }
    }
}

@if $zen-product-configurator-not-combinable-cross-out == 1 {
    .product-detail-configurator-option-input {
        + .product-detail-configurator-option-label {

            &::before {
                content: "";
                display: block;
                position: absolute;
                width: 100%;
                height: 100%;
                top: 0;
                left: 0;
                background: linear-gradient(to right top,transparent calc(50% - 2px),#fff calc(50% - 1px),#000 50%,transparent calc(50% + 1px));
                opacity: .25;
            }
        }

        &.is-combinable + .product-detail-configurator-option-label {
            &::before {
                display: none;
            }
        }

        &:checked + .product-detail-configurator-option-label {
            &::before {
                display: none;
            }
        }
    }
}

.has-tooltips {
    .product-detail-configurator-option-label {
        &.is-display-media {
            .product-detail-configurator-option-image {
                pointer-events: none; // ... hides img tooltip on hover
            }
        }
    }
}
