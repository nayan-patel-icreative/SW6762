"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["custom_plugins_zenitPlatformGravity_src_Resources_app_storefront_src_script_plugin_sticky_sti-34a3b7"],{4431:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var r=i(447),s=i(4049),o=i(3266);class n extends window.PluginBaseClass{init(){let e=this.options;this._allowedViewports=e.viewports,!1!==this._isInAllowedViewports()&&(this._headerInner=s.Z.querySelector(document,e.headerInnerSelector,!1),this._onViewportHasChangedHandler(),this._registerEvents())}_registerEvents(){document.addEventListener("Viewport/hasChanged",this._onViewportHasChangedHandler.bind(this)),window.addEventListener("orientationchange",this._onViewportHasChangedHandler.bind(this)),this._triggerEls=s.Z.querySelectorAll(this.el,"[".concat(this.options.collapseSelector,"]"),!1),this._triggerEls&&o.Z.iterate(this._triggerEls,e=>{let t=s.Z.getDataAttribute(e,"data-bs-target",!1),i=s.Z.querySelector(this.el,t,!1);i&&(i.addEventListener("shown.bs.collapse",()=>this._reInitialize()),i.addEventListener("hidden.bs.collapse",()=>this._reInitialize()))})}_onViewportHasChangedHandler(){!1===this._isInAllowedViewports()?this.destroy():this._initialize()}_initialize(){let e=this.options;(this._hasLowerHeight()||!1===e.checkHeight)&&this._setSticky(e.forced),this._hasMinimalHeader()&&this.el.classList.add(e.minimalHeaderClass)}_reInitialize(){let e=this.options;this._hasLowerHeight()||!1===e.checkHeight?this._setSticky(e.forced):this.el.classList.remove(e.stickyClass)}_hasLowerHeight(){return(this._headerInner?window.innerHeight-this._headerInner.offsetHeight-24:window.innerHeight-24)>this.el.offsetHeight}_hasMinimalHeader(){return!!s.Z.querySelector(document,this.options.minimalHeaderSelector,!1)}_setSticky(e){let t=this.options,i=this.el.parentElement,r=!1;for(;i&&i!==document.body;){if("hidden"===getComputedStyle(i).overflow){if(e)i.style.overflow="visible";else{r=!0;break}}i=i.parentElement}r||this.el.classList.add(t.stickyClass)}_isInAllowedViewports(){return!!this._allowedViewports.includes(r.Z.getCurrentViewport())}destroy(){let e=this.options;this.el.classList.remove(e.stickyClass),this.el.classList.remove(e.minimalHeaderClass)}}n.options={stickyClass:"js-sticky",headerInnerSelector:".header-inner",minimalHeaderClass:"js-has-minimal-header",minimalHeaderSelector:".header-minimal",collapseSelector:'data-bs-toggle="collapse"',viewports:["LG","XL","XXL"],forced:!0,checkHeight:!0}},9610:(e,t,i)=>{i.d(t,{Z:()=>r});class r{static debounce(e,t){let i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var s=arguments.length,o=Array(s),n=0;n<s;n++)o[n]=arguments[n];r&&!i&&setTimeout(e.bind(e,...o),0),clearTimeout(i),i=setTimeout(e.bind(e,...o),t)}}}},4049:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(5140);class s{static isNode(e){return"object"==typeof e&&null!==e&&(e===document||e===window||e instanceof Node)}static hasAttribute(e,t){if(!s.isNode(e))throw Error("The element must be a valid HTML Node!");return"function"==typeof e.hasAttribute&&e.hasAttribute(t)}static getAttribute(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(i&&!1===s.hasAttribute(e,t))throw Error('The required property "'.concat(t,'" does not exist!'));if("function"!=typeof e.getAttribute){if(i)throw Error("This node doesn't support the getAttribute function!");return}return e.getAttribute(t)}static getDataAttribute(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=t.replace(/^data(|-)/,""),n=r.Z.toLowerCamelCase(o,"-");if(!s.isNode(e)){if(i)throw Error("The passed node is not a valid HTML Node!");return}if(void 0===e.dataset){if(i)throw Error("This node doesn't support the dataset attribute!");return}let a=e.dataset[n];if(void 0===a){if(i)throw Error('The required data attribute "'.concat(t,'" does not exist on ').concat(e,"!"));return a}return r.Z.parsePrimitive(a)}static querySelector(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(i&&!s.isNode(e))throw Error("The parent node is not a valid HTML Node!");let r=e.querySelector(t)||!1;if(i&&!1===r)throw Error('The required element "'.concat(t,'" does not exist in parent node!'));return r}static querySelectorAll(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(i&&!s.isNode(e))throw Error("The parent node is not a valid HTML Node!");let r=e.querySelectorAll(t);if(0===r.length&&(r=!1),i&&!1===r)throw Error('At least one item of "'.concat(t,'" must exist in parent node!'));return r}}},3266:(e,t,i)=>{i.d(t,{Z:()=>r});class r{static iterate(e,t){if(e instanceof Map||Array.isArray(e))return e.forEach(t);if(e instanceof FormData){for(var i of e.entries())t(i[1],i[0]);return}if(e instanceof NodeList)return e.forEach(t);if(e instanceof HTMLCollection)return Array.from(e).forEach(t);if(e instanceof Object)return Object.keys(e).forEach(i=>{t(e[i],i)});throw Error("The element type ".concat(typeof e," is not iterable!"))}}},5140:(e,t,i)=>{i.d(t,{Z:()=>r});class r{static ucFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}static lcFirst(e){return e.charAt(0).toLowerCase()+e.slice(1)}static toDashCase(e){return e.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()}static toLowerCamelCase(e,t){let i=r.toUpperCamelCase(e,t);return r.lcFirst(i)}static toUpperCamelCase(e,t){return t?e.split(t).map(e=>r.ucFirst(e.toLowerCase())).join(""):r.ucFirst(e.toLowerCase())}static parsePrimitive(e){try{return/^\d+(.|,)\d+$/.test(e)&&(e=e.replace(",",".")),JSON.parse(e)}catch(t){return e.toString()}}}},447:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(9610);class s{_registerEvents(){window.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this)),window.addEventListener("resize",r.Z.debounce(this._onResize.bind(this),200),{capture:!0,passive:!0})}_onDOMContentLoaded(){this._dispatchEvents()}_onResize(){this._viewportHasChanged(s.getCurrentViewport())&&(this._dispatchEvents(),this._dispatchViewportEvent("Viewport/hasChanged"))}_dispatchEvents(){s.isXS()?this._dispatchViewportEvent("Viewport/isXS"):s.isSM()?this._dispatchViewportEvent("Viewport/isSM"):s.isMD()?this._dispatchViewportEvent("Viewport/isMD"):s.isLG()?this._dispatchViewportEvent("Viewport/isLG"):s.isXL()?this._dispatchViewportEvent("Viewport/isXL"):s.isXXL()&&this._dispatchViewportEvent("Viewport/isXXL")}_viewportHasChanged(e){let t=e!==this.currentViewport;return t&&(this.previousViewport=this.currentViewport,this.currentViewport=e),t}_dispatchViewportEvent(e){document.$emitter.publish(e,{previousViewport:this.previousViewport})}static isXS(){return"XS"===s.getCurrentViewport()}static isSM(){return"SM"===s.getCurrentViewport()}static isMD(){return"MD"===s.getCurrentViewport()}static isLG(){return"LG"===s.getCurrentViewport()}static isXL(){return"XL"===s.getCurrentViewport()}static isXXL(){return"XXL"===s.getCurrentViewport()}static getCurrentViewport(){return window.getComputedStyle(document.documentElement).getPropertyValue("--sw-current-breakpoint").replace(/['"]+/g,"").toUpperCase()}constructor(){this.previousViewport=null,this.currentViewport=s.getCurrentViewport(),this._registerEvents()}}}}]);