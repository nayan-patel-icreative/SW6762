"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["custom_plugins_zenitPlatformGravity_src_Resources_app_storefront_src_script_plugin_sticky_sti-615921"],{2059:(t,s,i)=>{i.r(s),i.d(s,{default:()=>r});var e=i(447);class r extends window.PluginBaseClass{init(){let t=this.options;this._scrollParent=window,this._currentPosition=this._calculateScrollPosition(),this._headerInnerRect=this.el.children[0].getBoundingClientRect(),this._headerHeight=this._headerInnerRect.height,this._scrollUpOffset=this._headerInnerRect.top+window.scrollY,this._scrollDownOffset=t.scrollOffset?parseInt(t.scrollOffset,10):this._headerHeight+this._scrollUpOffset,this._allowedViewports=t.viewports,this.el.classList.add(t.swStickyClass),this._allowedViewports&&this._registerEvents()}_registerEvents(){this.scrollListener=this._throttle(this._onScroll.bind(this),this.options.scrollDebounceTime,!0),document.addEventListener("Viewport/hasChanged",this._onViewportHasChanged.bind(this)),!1!==this._isInAllowedViewports()&&this._scrollParent.addEventListener("scroll",this.scrollListener)}_onViewportHasChanged(){!1===this._isInAllowedViewports()?this.destroy():this._scrollParent.addEventListener("scroll",this.scrollListener)}_onScroll(){let t=this.options,s=this._calculateScrollPosition();s<this._currentPosition?(this._onScrollUp(),s<=this._scrollUpOffset&&this._unstick()):s>this._currentPosition&&this._onScrollDown(),s>this._scrollDownOffset&&this._stick(),t.autoHide&&s>this._headerHeight&&this.el.classList.add(t.stickyHideClass),this._currentPosition=s,this.$emitter.publish("onScroll")}_calculateScrollPosition(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}_onScrollUp(){let t=this.options;this.el.classList.remove(t.stickyDownClass),this.el.classList.add(t.stickyUpClass),t.autoHide&&this.el.classList.remove(t.stickyInitialHiddenClass),this.$emitter.publish("onScrollUp")}_onScrollDown(){let t=this.options;this.el.classList.remove(t.stickyUpClass),this.el.classList.add(t.stickyDownClass),this.$emitter.publish("onScrollDown")}_stick(){let t=this.options,s=this._calculateScrollPosition();this.el.classList.contains(t.stickyClass)||(this.el.style.minHeight=this.el.offsetHeight+"px",this.el.classList.add(t.stickyClass),t.autoHide&&s>this._headerHeight&&this.el.classList.add(t.stickyInitialHiddenClass),this.$emitter.publish("stick"))}_unstick(){let t=this.options;if(!this.el.classList.contains(t.stickyClass))return;this.el.classList.remove(t.stickyClass),this.el.classList.remove(t.stickyUpClass),this.el.classList.remove(t.stickyHideClass);let s=this.el.querySelector(".header-inner");s&&(s.style.marginTop="0px"),setTimeout(()=>{s.style.marginTop=null},10),this.el.style.minHeight="0px",this.$emitter.publish("unstick")}_isInAllowedViewports(){return!!this._allowedViewports.includes(e.Z.getCurrentViewport())}_throttle(t,s){let i,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];i||(t.apply(t,...o),i=setTimeout(function(){i=!1,e&&t.apply(t,...o)},s))}}destroy(){let t=this.options;this._unstick(),this.el.classList.remove(t.stickyUpClass),this.el.classList.remove(t.stickyDownClass),this.el.classList.remove(t.swStickyClass),this._scrollParent.removeEventListener("scroll",this.scrollListener)}}r.options={scrollOffset:null,autoHide:!0,scrollDebounceTime:250,swStickyClass:"fixed-top",stickyClass:"js-header-sticky",stickyUpClass:"js-header-sticky-up",stickyDownClass:"js-header-sticky-down",stickyInitialDownClass:"js-header-sticky-initial-down",stickyHideClass:"js-header-sticky-hide",stickyInitialHiddenClass:"js-header-sticky-initial-hidden",viewports:'["LG", "XL", "XXL"]'}},9610:(t,s,i)=>{i.d(s,{Z:()=>e});class e{static debounce(t,s){let i,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];e&&!i&&setTimeout(t.bind(t,...o),0),clearTimeout(i),i=setTimeout(t.bind(t,...o),s)}}}},447:(t,s,i)=>{i.d(s,{Z:()=>r});var e=i(9610);class r{_registerEvents(){window.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this)),window.addEventListener("resize",e.Z.debounce(this._onResize.bind(this),200),{capture:!0,passive:!0})}_onDOMContentLoaded(){this._dispatchEvents()}_onResize(){this._viewportHasChanged(r.getCurrentViewport())&&(this._dispatchEvents(),this._dispatchViewportEvent("Viewport/hasChanged"))}_dispatchEvents(){r.isXS()?this._dispatchViewportEvent("Viewport/isXS"):r.isSM()?this._dispatchViewportEvent("Viewport/isSM"):r.isMD()?this._dispatchViewportEvent("Viewport/isMD"):r.isLG()?this._dispatchViewportEvent("Viewport/isLG"):r.isXL()?this._dispatchViewportEvent("Viewport/isXL"):r.isXXL()&&this._dispatchViewportEvent("Viewport/isXXL")}_viewportHasChanged(t){let s=t!==this.currentViewport;return s&&(this.previousViewport=this.currentViewport,this.currentViewport=t),s}_dispatchViewportEvent(t){document.$emitter.publish(t,{previousViewport:this.previousViewport})}static isXS(){return"XS"===r.getCurrentViewport()}static isSM(){return"SM"===r.getCurrentViewport()}static isMD(){return"MD"===r.getCurrentViewport()}static isLG(){return"LG"===r.getCurrentViewport()}static isXL(){return"XL"===r.getCurrentViewport()}static isXXL(){return"XXL"===r.getCurrentViewport()}static getCurrentViewport(){return window.getComputedStyle(document.documentElement).getPropertyValue("--sw-current-breakpoint").replace(/['"]+/g,"").toUpperCase()}constructor(){this.previousViewport=null,this.currentViewport=r.getCurrentViewport(),this._registerEvents()}}}}]);