"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["custom_plugins_zenitPlatformGravity_src_Resources_app_storefront_src_script_plugin_gallery_ga-889091"],{7573:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});var r=i(3266),s=i(4049),o=i(5206),n=i(447);class a extends window.PluginBaseClass{init(){let e=this.options,t=s.Z.querySelector(this.el,e.zoomModalSelector,!1),i=s.Z.querySelector(this.el.parentElement,e.magnifierSelector,!1);i&&(this._magnifierPlugin=window.PluginManager.getPluginInstanceFromElement(i,"Magnifier")),t&&(this._zoomModalPlugin=window.PluginManager.getPluginInstanceFromElement(t,"ZoomModal")),this._gallerGrid=s.Z.querySelector(this.el,e.galleryGridSelector,!1),this._zoomModalTriggers=s.Z.querySelectorAll(this._gallerGrid,[e.triggerSelector,e.triggerSelectorCanvas],!1),this._gallerySliderPlugin=window.PluginManager.getPluginInstanceFromElement(this.el,"GallerySlider"),this._currentSliderIndex=0,this._currentSliderOffsetTop=0,this._registerEvents()}_registerEvents(){this._onViewportHasChanged(),document.addEventListener("Viewport/hasChanged",this._onViewportHasChanged.bind(this)),this._magnifierPlugin&&this._magnifierPlugin.$emitter.subscribe("createZoomImage",this._onCreateMagnifierImage.bind(this)),this._zoomModalPlugin&&this._onZoomModalShowSubscriber(),this.$emitter.publish("registerEvents")}_onViewportHasChanged(){let e=this.options;this._isInAllowedViewports()?(this.el.classList.add(e.activeClass),this._registerMagnifierMouseMoveEvents(),this._registerZoomModalTriggerEvents()):(this.el.classList.remove(e.activeClass),this._unregisterMagnifierMouseMoveEvents(),this._unregisterZoomModalTriggerEvents()),this.$emitter.publish("onViewportHasChanged")}_registerZoomModalTriggerEvents(){let e=o.Z.isTouchDevice()?"touchstart":"mouseenter";this._unregisterZoomModalTriggerEvents(),r.Z.iterate(this._zoomModalTriggers,(t,i)=>{t.addEventListener(e,this._onHoverZoomModalTrigger.bind(this,i))}),this.$emitter.publish("registerZoomModalTriggerEvents")}_unregisterZoomModalTriggerEvents(){let e=o.Z.isTouchDevice()?"touchstart":"mouseenter";r.Z.iterate(this._zoomModalTriggers,t=>{t.removeEventListener(e,this._onHoverZoomModalTrigger.bind(this))}),this.$emitter.publish("unregisterZoomModalTriggerEvents")}_onHoverZoomModalTrigger(e){this._currentSliderIndex=e,this._gallerySliderPlugin._slider.goTo(this._currentSliderIndex),this._unregisterZoomModalTriggerEvents(),this.$emitter.publish("onClickZoomModal")}_registerMagnifierMouseMoveEvents(){this._magnifierPlugin&&(this._imageContainers=s.Z.querySelectorAll(this.el,this.options.magnifierContainerSelector),r.Z.iterate(this._imageContainers,e=>{e.addEventListener("mouseenter",this._onMagnifierMouseMove.bind(this,e),!1)})),this.$emitter.publish("registerMagnifierMouseMoveEvents")}_unregisterMagnifierMouseMoveEvents(){this._magnifierPlugin&&(this._imageContainers=s.Z.querySelectorAll(this.el,this.options.magnifierContainerSelector),r.Z.iterate(this._imageContainers,e=>{e.removeEventListener("mouseenter",this._onMagnifierMouseMove.bind(this,e),!1)})),this.$emitter.publish("unregisterMagnifierMouseMoveEvents")}_onMagnifierMouseMove(e){this._currentSliderOffsetTop=e.offsetTop}_onCreateMagnifierImage(){let e=this.options,t=s.Z.querySelector(this.el,e.magnifierOverGallerySelector,!1);t&&(t.style.top=this._currentSliderOffsetTop+"px")}_onZoomModalShowSubscriber(){this._zoomModalPlugin.$emitter.subscribe("initSlider",this._onZoomModalShow.bind(this))}_onZoomModalShow(e){let t=this.options;if("modal"in e.detail){let e=s.Z.querySelector(this.el,t.zoomModalGallerySliderSelector,!1);this._zoomGallerySliderPlugin=window.PluginManager.getPluginInstanceFromElement(e,"GallerySlider"),this._zoomGallerySliderPlugin._slider.goTo(this._currentSliderIndex)}this.$emitter.publish("onZoomModalShow")}_isInAllowedViewports(){return n.Z.isLG()||n.Z.isXL()||n.Z.isXXL()}}a.options={activeClass:"js-gallery-grid",galleryGridSelector:".gallery-grid",zoomModalSelector:"[data-zoom-modal]",triggerSelector:"img",triggerSelectorCanvas:"canvas",zoomModalGallerySliderSelector:"[data-modal-gallery-slider]",magnifierSelector:"[data-magnifier]",magnifierOverGallerySelector:".gallery-slider .magnifier-zoom-image",magnifierContainerSelector:".js-magnifier-container"}},9610:(e,t,i)=>{i.d(t,{Z:()=>r});class r{static debounce(e,t){let i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var s=arguments.length,o=Array(s),n=0;n<s;n++)o[n]=arguments[n];r&&!i&&setTimeout(e.bind(e,...o),0),clearTimeout(i),i=setTimeout(e.bind(e,...o),t)}}}},5206:(e,t,i)=>{i.d(t,{Z:()=>r});class r{static isTouchDevice(){return"ontouchstart"in document.documentElement}static isIOSDevice(){return r.isIPhoneDevice()||r.isIPadDevice()}static isNativeWindowsBrowser(){return r.isIEBrowser()||r.isEdgeBrowser()}static isIPhoneDevice(){return!!navigator.userAgent.match(/iPhone/i)}static isIPadDevice(){return!!navigator.userAgent.match(/iPad/i)}static isIEBrowser(){return -1!==navigator.userAgent.toLowerCase().indexOf("msie")||!!navigator.userAgent.match(/Trident.*rv:\d+\./)}static isEdgeBrowser(){return!!navigator.userAgent.match(/Edge\/\d+/i)}static getList(){return{"is-touch":r.isTouchDevice(),"is-ios":r.isIOSDevice(),"is-native-windows":r.isNativeWindowsBrowser(),"is-iphone":r.isIPhoneDevice(),"is-ipad":r.isIPadDevice(),"is-ie":r.isIEBrowser(),"is-edge":r.isEdgeBrowser()}}}},4049:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(5140);class s{static isNode(e){return"object"==typeof e&&null!==e&&(e===document||e===window||e instanceof Node)}static hasAttribute(e,t){if(!s.isNode(e))throw Error("The element must be a valid HTML Node!");return"function"==typeof e.hasAttribute&&e.hasAttribute(t)}static getAttribute(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(i&&!1===s.hasAttribute(e,t))throw Error('The required property "'.concat(t,'" does not exist!'));if("function"!=typeof e.getAttribute){if(i)throw Error("This node doesn't support the getAttribute function!");return}return e.getAttribute(t)}static getDataAttribute(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=t.replace(/^data(|-)/,""),n=r.Z.toLowerCamelCase(o,"-");if(!s.isNode(e)){if(i)throw Error("The passed node is not a valid HTML Node!");return}if(void 0===e.dataset){if(i)throw Error("This node doesn't support the dataset attribute!");return}let a=e.dataset[n];if(void 0===a){if(i)throw Error('The required data attribute "'.concat(t,'" does not exist on ').concat(e,"!"));return a}return r.Z.parsePrimitive(a)}static querySelector(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(i&&!s.isNode(e))throw Error("The parent node is not a valid HTML Node!");let r=e.querySelector(t)||!1;if(i&&!1===r)throw Error('The required element "'.concat(t,'" does not exist in parent node!'));return r}static querySelectorAll(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(i&&!s.isNode(e))throw Error("The parent node is not a valid HTML Node!");let r=e.querySelectorAll(t);if(0===r.length&&(r=!1),i&&!1===r)throw Error('At least one item of "'.concat(t,'" must exist in parent node!'));return r}}},3266:(e,t,i)=>{i.d(t,{Z:()=>r});class r{static iterate(e,t){if(e instanceof Map||Array.isArray(e))return e.forEach(t);if(e instanceof FormData){for(var i of e.entries())t(i[1],i[0]);return}if(e instanceof NodeList)return e.forEach(t);if(e instanceof HTMLCollection)return Array.from(e).forEach(t);if(e instanceof Object)return Object.keys(e).forEach(i=>{t(e[i],i)});throw Error("The element type ".concat(typeof e," is not iterable!"))}}},5140:(e,t,i)=>{i.d(t,{Z:()=>r});class r{static ucFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}static lcFirst(e){return e.charAt(0).toLowerCase()+e.slice(1)}static toDashCase(e){return e.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()}static toLowerCamelCase(e,t){let i=r.toUpperCamelCase(e,t);return r.lcFirst(i)}static toUpperCamelCase(e,t){return t?e.split(t).map(e=>r.ucFirst(e.toLowerCase())).join(""):r.ucFirst(e.toLowerCase())}static parsePrimitive(e){try{return/^\d+(.|,)\d+$/.test(e)&&(e=e.replace(",",".")),JSON.parse(e)}catch(t){return e.toString()}}}},447:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(9610);class s{_registerEvents(){window.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this)),window.addEventListener("resize",r.Z.debounce(this._onResize.bind(this),200),{capture:!0,passive:!0})}_onDOMContentLoaded(){this._dispatchEvents()}_onResize(){this._viewportHasChanged(s.getCurrentViewport())&&(this._dispatchEvents(),this._dispatchViewportEvent("Viewport/hasChanged"))}_dispatchEvents(){s.isXS()?this._dispatchViewportEvent("Viewport/isXS"):s.isSM()?this._dispatchViewportEvent("Viewport/isSM"):s.isMD()?this._dispatchViewportEvent("Viewport/isMD"):s.isLG()?this._dispatchViewportEvent("Viewport/isLG"):s.isXL()?this._dispatchViewportEvent("Viewport/isXL"):s.isXXL()&&this._dispatchViewportEvent("Viewport/isXXL")}_viewportHasChanged(e){let t=e!==this.currentViewport;return t&&(this.previousViewport=this.currentViewport,this.currentViewport=e),t}_dispatchViewportEvent(e){document.$emitter.publish(e,{previousViewport:this.previousViewport})}static isXS(){return"XS"===s.getCurrentViewport()}static isSM(){return"SM"===s.getCurrentViewport()}static isMD(){return"MD"===s.getCurrentViewport()}static isLG(){return"LG"===s.getCurrentViewport()}static isXL(){return"XL"===s.getCurrentViewport()}static isXXL(){return"XXL"===s.getCurrentViewport()}static getCurrentViewport(){return window.getComputedStyle(document.documentElement).getPropertyValue("--sw-current-breakpoint").replace(/['"]+/g,"").toUpperCase()}constructor(){this.previousViewport=null,this.currentViewport=s.getCurrentViewport(),this._registerEvents()}}}}]);