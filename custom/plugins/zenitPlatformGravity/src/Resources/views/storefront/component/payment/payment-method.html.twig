{% sw_extends '@Storefront/storefront/component/payment/payment-method.html.twig' %}

{% block component_payment_method_description %}
    {# ... @zenit - set config variable paymentDescriptionLength #}
    {% set paymentDescriptionLength = theme_config('zen-checkout-confirm-payment-shipping-description-length')|default(75) %}

    <div class="payment-method-description">
        {% set paymentName = payment.translated.name %}
        {% block component_payment_method_name %}
            <strong>{{ paymentName }}</strong>
        {% endblock %}

        {% if payment.translated.description %}
            {% set paymentDescription = payment.translated.description|raw %}
            {% set paymentDescriptionTitle = payment.translated.description|striptags|raw %}

            {% if not payment.id is same as(selectedPaymentMethodId) %}
                {% set paymentDescription = (paymentDescription|length > paymentDescriptionLength ? paymentDescription[:paymentDescriptionLength] ~ ' ...' : paymentDescription) %}
            {% endif %}

            {% block component_payment_method_description_text %}
                <p title="{{ paymentDescriptionTitle }}">{{ paymentDescription }}</p>
            {% endblock %}
        {% endif %}
    </div>
{% endblock %}

