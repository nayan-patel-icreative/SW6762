{% sw_extends '@Storefront/storefront/page/search/index.html.twig' %}

{% block page_search %}
    {# ... @zenit - generate cols for scrollAnimation #}
    {% set breakpoints = {
        XS: 'zen-product-listing-columns-xs',
        SM: 'zen-product-listing-columns-sm',
        MD: 'zen-product-listing-columns-md',
        LG: 'zen-product-listing-columns-lg',
        XL: 'zen-product-listing-columns-xl',
        XXL: 'zen-product-listing-columns-xl'
    } %}

    {% set listingCols = {} %}

    {% for breakpoint, configKey in breakpoints %}
        {% set listingCols = listingCols|merge({(breakpoint): theme_config(configKey)}) %}
    {% endfor %}

    {# ... @zenit - content animation js options #}
    {% set scrollAnimationOptions = {
        animationDuration: theme_config('zen-layout-scroll-animation-duration') ? theme_config('zen-layout-scroll-animation-duration') ~ 's' : '1s',
        animationDelay: theme_config('zen-layout-scroll-animation-delay') ? theme_config('zen-layout-scroll-animation-delay') ~ 's' : '0.25s',
        cols: listingCols
    } %}

    <div class="cms-page search-page"
         data-zen-scroll-animation="true"
         data-zen-scroll-animation-options="{{ scrollAnimationOptions|json_encode }}"
    >
        {{ block('page_search_headline') }}

        {% sw_include '@Storefront/storefront/page/search/search-pagelet.html.twig' with { page: page } %}
    </div>
{% endblock %}
